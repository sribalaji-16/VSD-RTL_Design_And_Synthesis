# Gate-Level Simulation (GLS)

Gate-Level Simulation is performed on running the test bench with Netlist as Design Under Test,Here the netlist is logically same as RTL code (which same test bench will align with the design) 

The goal is to ensure that what the synthesis tool produced still behaves exactly like the original RTL, now including real hardware timing.

### Why we use GLS

- To verify the `Logical correctness` of design after synthesis.

- Ensuring the `timing` of the design is met.
   - So for this GLS needs to be run with `delay annotation`.
   - This depends upon the setup and hold time of the cell we used in the ckt design.

### GLS using iverilog

<img width="1841" height="981" alt="screenshot-2025-12-06_05-07-02" src="https://github.com/user-attachments/assets/c0239621-47e7-4d49-a11f-daa1f2611bc7" />

### Synthesis and Simulation mismatches

- `Missing Sensitivity List`
   - Simulation may not update signals when an input changes, but synthesized hardware always reacts.
- `Blocking vs Non-Blocking Assignments`
   - Using the wrong assignment type changes execution order in simulation, but hardware works on parallel logic.
- `Non Standard Verilog Coding`
   - Some coding styles simulate fine but cannot be properly mapped into hardware.


### Stages When GLS Is Commonly Used

- Right after synthesis, to do a quick functional verification before further implementation.

- At the final sign-off stage, after static timing closure, to validate the design with accurate timing information.

## Lab 
`ternary_operator_mux.v`
```v
module ternary_operator_mux (input i0 , input i1 , input sel , output y);
        assign y = sel?i1:i0;
        endmodule
```

<img width="1920" height="1080" alt="screenshot-2025-12-05_19-40-55" src="https://github.com/user-attachments/assets/f47e9ddb-b5f1-415e-8286-d1796e4c982c" />

<img width="1920" height="1080" alt="screenshot-2025-12-05_19-45-12" src="https://github.com/user-attachments/assets/f76ba827-3743-4e38-8d93-7d92be1b5af3" />

<img width="1920" height="1080" alt="screenshot-2025-12-05_19-45-12" src="https://github.com/user-attachments/assets/a0d0d44c-39f0-4294-9ff1-1d582d2d259b" />

<img width="1920" height="1080" alt="screenshot-2025-12-05_19-45-12" src="https://github.com/user-attachments/assets/cc884208-c0ac-4b03-a547-29bff94ca4c0" />

![WhatsApp Image 2025-12-05 at 23 32 04](https://github.com/user-attachments/assets/45539269-93e7-48bf-8111-60a0e00c8021)

<img width="1920" height="1080" alt="screenshot-2025-12-05_23-46-29" src="https://github.com/user-attachments/assets/debc73bd-dd24-486e-993b-d7665a6303c7" />

```v
The netlist file 
/* Generated by Yosys 0.54 (git sha1 db72ec3bd, g++ 15.2.1 -march=x86-64 -mtune=generic -O2 -fno-plt -fexceptions -fstack-clash-protection -fcf-protection -fno-omit-frame-pointer -mno-omit-leaf-frame-pointer -ffile-prefix-map=/build/yosys/src=/usr/src/debug/yosys -fPIC -O3) */

module ternary_operator_mux(i0, i1, sel, y);
  input i0;
  wire i0;
  input i1;
  wire i1;
  input sel;
  wire sel;
  output y;
  wire y;
  assign y = sel ? i1 : i0;
endmodule
```

`bad_mux.v`
```v
module bad_mux (input i0 , input i1 , input sel , output reg y);
always @ (sel)
begin
        if(sel)
                y <= i1;
        else
                y <= i0;
end
endmodule
```
<img width="1920" height="1080" alt="screenshot-2025-12-05_19-45-12" src="https://github.com/user-attachments/assets/460e5431-0455-437c-92fb-d1b5fb4892a3" />

<img width="1920" height="1080" alt="screenshot-2025-12-05_19-45-12" src="https://github.com/user-attachments/assets/90cdc6d4-21fb-40eb-8d14-36efe4324180" />

![WhatsApp Image 2025-12-05 at 23 33 32](https://github.com/user-attachments/assets/ebd1b3b7-23a8-4acb-9c75-bfe2aade0d2f)

<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/ffe8a8fa-13e4-4d34-ac76-44bb909609c1" />


`blocking_caveat.v`
```v
module blocking_caveat (input a , input b , input  c, output reg d);
reg x;
always @ (*)
begin
        d = x & c;
        x = a | b;
end
endmodule
```
<img width="1920" height="1080" alt="screenshot-2025-12-05_23-37-12" src="https://github.com/user-attachments/assets/4b352594-5b69-4495-957c-541ccce3c0f5" />

<img width="1920" height="1080" alt="screenshot-2025-12-05_23-39-18" src="https://github.com/user-attachments/assets/5fcfd352-b130-42b5-a250-91cc512aaf52" />

<img width="1920" height="1080" alt="screenshot-2025-12-05_23-40-10" src="https://github.com/user-attachments/assets/2a115007-5068-43be-84bc-de73819f3ab2" />

![WhatsApp Image 2025-12-05 at 23 53 02](https://github.com/user-attachments/assets/087e1924-cf80-415c-bc39-7a6814f9b32d)

<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/d8b73684-872a-411e-b7a8-b9a68b5febc8" />

